function routesConfig(e,n,t){t.html5Mode(!0).hashPrefix("!"),n.otherwise("/");var o=["admin","productionAdmin","productionUser","salesAdmin","salesUser"],a=["admin","productionAdmin","salesAdmin"],i=["admin","salesAdmin","salesUser"];e.state("main",{"abstract":!0,component:"mainComponent",data:{roles:o}}).state("home",{url:"/",parent:"main",component:"homeComponent",data:{roles:o}}).state("users",{url:"/users",parent:"main",component:"usersComponent",data:{roles:a}}).state("categories",{url:"/categories",parent:"main",component:"categoriesComponent",data:{roles:["admin"]}}).state("about",{url:"/about",parent:"main",component:"aboutComponent",data:{roles:o}}).state("help",{url:"/help",parent:"main",component:"helpComponent",data:{roles:o}}).state("fields",{url:"/categories/:id",parent:"main",component:"fieldsComponent",data:{roles:["admin"]}}).state("device",{url:"/device/:id",parent:"main",component:"deviceDetailComponent",data:{roles:o}}).state("device.serialNumbers",{url:"/serialNumber",parent:"device",component:"deviceSerialNumbersComponent",data:{roles:i}}).state("device.category",{url:"/:categoryId",parent:"device",component:"deviceCategoryComponent",data:{roles:o}}).state("login",{url:"/login",component:"loginComponent"})}routesConfig.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("app",["ui.router","ui.bootstrap","ngMessages","angular-loading-bar","LocalStorageModule","toastr","ngAnimate","angular.chips","ngFileUpload"]).config(["$httpProvider","$compileProvider",function(e,n){e.interceptors.push("AuthInterceptor"),e.useApplyAsync(!0),n.debugInfoEnabled(!1)}]).run(["$transitions","$q",function(e,n){var t={to:function(e){return e.data&&e.data.roles}};e.onStart(t,function(e){var t=e.injector().get("Auth"),o=e.$to();return t.getCurrentUser().then(function(e){if(!e.hasOwnProperty("role")||o.data.roles.indexOf(e.role)===-1)return n.reject("access error")})}),e.onError(t,function(e){var n=e.router.stateService;n.go("login")})}]),function(){function e(e,n){var t=this;t.$onInit=function(){t.sale=t.resolve.sale,t.sale.date&&(t.sale.date=new Date(t.sale.date))},t.cancel=function(){t.dismiss({$value:"cancel"})},t.save=function(){t.sale._id?e.updateSale(t.sale).then(function(){t.close({$value:t.sale})})["catch"](function(e){var t;t=e.data&&e.data.message?e.data.message:"Something went wrong",n.error(t,"Error")}):e.createSale(t.sale).then(function(e){t.close({$value:e.data})})["catch"](function(e){var t;t=e.data&&e.data.message?e.data.message:"Something went wrong",n.error(t,"Error")})}}e.$inject=["Sales","toastr"],angular.module("app").component("createSaleComponent",{templateUrl:"app/components/device/device-category/device-serial-numbers/create/sale-create.component.html",bindings:{resolve:"<",close:"&",dismiss:"&"},controller:e,controllerAs:"vm"})}(),function(){function e(e,n){var t=this;t.$onInit=function(){t.device=t.resolve.device},t.cancel=function(){t.dismiss({$value:"cancel"})},t.save=function(){t.device._id?e.updateDevice(t.device).then(function(){t.close({$value:t.device})})["catch"](function(e){var t;t=e.data&&e.data.message?e.data.message:"Something went wrong",n.error(t,"Error")}):e.createDevice(t.device).then(function(e){t.close({$value:e.data})})["catch"](function(e){var t;t=e.data&&e.data.message?e.data.message:"Something went wrong",n.error(t,"Error")})}}e.$inject=["Device","toastr"],angular.module("app").component("createDeviceComponent",{templateUrl:"app/components/device/device-list/create/device.create.component.html",bindings:{resolve:"<",close:"&",dismiss:"&"},controller:e,controllerAs:"vm"})}(),function(){function e(e,n,t){var o=this;o.$onInit=function(){o.subcategories=[],e.getAll(o.deviceId,o.category.relatedCategory).then(function(e){o.subcategories=[],e.data.forEach(function(e){for(var n=0;n<e.fields.length;n++)if(e.fields[n].field._id===o.category.subcategoryField){o.subcategories.push(e.fields[n]);break}}),o.filterDocuments()})["catch"](function(){n.error("Error on load subcategories","Error")}),t.$watchCollection("vm.documents",o.filterDocuments)},o.onDelelte=function(e){o["delete"]({document:e})},o.create=function(e){o.openDocumentModal({document:e})},o.onCreateClick=function(e,n){n.preventDefault(),n.stopPropagation(),o.create({subcategoryField:e._id})},o.filterDocuments=function(){o.subcategories.length&&o.subcategories.forEach(function(e){e.documents=[],o.documents.forEach(function(n){n.subcategoryField===e._id&&e.documents.push(n)})})}}e.$inject=["Documents","toastr","$scope"],angular.module("app").component("deviceSubcategories",{templateUrl:"app/components/device/device-category/device-subcategories/device-subcategories.html",controller:e,controllerAs:"vm",bindings:{documents:"<",deviceId:"<",category:"<",fields:"<","delete":"&",openDocumentModal:"&"}})}(),function(){function e(e,n,t,o,a,i,r){var l=this;l.$onInit=function(){l.modelOptions={debounce:300},l.pagination={page:1,limit:10,total:0},l.sortFilters=a.get("salesSortFilters")||{sort:"salesOrder",order:!0},l.searchFilters={},i.$watch("vm.searchFilters",function(){l.loadSales()},!0),l.loadSales()},l.loadSales=function(){var o="?product="+e.id+"&";o+=r(l.searchFilters)+"&",o+="sort="+(l.sortFilters.order?"":"-")+l.sortFilters.sort+"&",o=o+"page="+l.pagination.page+"&",o=o+"limit="+l.pagination.limit,n.getAll(o).then(function(e){l.sales=e.data.docs,l.pagination.total=e.data.total,l.pagination.page=e.data.page})["catch"](function(){t.error("Something went wrong","Error")})},l.reset=function(){l.searchFilters={},l.loadSales()},l.onSortFiltersChanged=function(e){l.sortFilters.sort===e?l.sortFilters.order=!l.sortFilters.order:(l.sortFilters.sort=e,l.sortFilters.order=!0),a.set("salesSortFilters",l.sortFilters),l.loadSales()},l.openCreateModal=function(n,t){n.product=e.id;var a=o.open({animation:!0,component:"createSaleComponent",resolve:{sale:function(){return angular.copy(n)}}});a.result.then(function(e){l.loadSales()})},l["delete"]=function(e,a){o.open({animation:!0,component:"confirmComponent",size:"sm",resolve:{message:function(){return"Are you sure to delete this sale?"}}}).result.then(function(){n.deleteSale(e).then(function(){l.loadSales()})["catch"](function(){t.error("Something went wrong","Error")})})}}e.$inject=["$stateParams","Sales","toastr","$uibModal","localStorageService","$scope","$httpParamSerializer"],angular.module("app").component("deviceSerialNumbersComponent",{templateUrl:"app/components/device/device-category/device-serial-numbers/device-serial-numbers-component.html",controller:e,controllerAs:"vm"})}(),function(){function e(){}angular.module("app").component("deviceCategoryTable",{templateUrl:"app/components/device/device-category/device-category-table/device-category-table.html",controller:e,controllerAs:"vm",bindings:{documents:"<",fields:"<",openDocumentModal:"&","delete":"&"}})}(),function(){function e(){}angular.module("app").component("deviceCategoryGallery",{templateUrl:"app/components/device/device-category/device-category-gallery/device-category-gallery.html",controller:e,controllerAs:"vm",bindings:{documents:"<","delete":"&"}})}(),function(){function e(){}angular.module("app").component("deviceCategoryForm",{templateUrl:"app/components/device/device-category/device-category-form/device-category-form.html",controller:e,controllerAs:"vm",bindings:{documents:"<"}})}(),function(){function e(e,n,t){var o=this;o.$onInit=function(){o.user=o.resolve.user;var n=[{label:"Production admin",value:"productionAdmin"},{label:"Production user",value:"productionUser"},{label:"Sales admin",value:"salesAdmin"},{label:"Sales user",value:"salesUser"},{label:"Super Admin",value:"admin"}];e.getCurrentUser().then(function(e){"admin"===e.role?o.roles=n:"productionAdmin"===e.role?o.roles=n.filter(function(e){return e.value.indexOf("production")!==-1}):"salesAdmin"===e.role?o.roles=n.filter(function(e){return e.value.indexOf("sales")!==-1}):o.roles=[]})},o.cancel=function(){o.dismiss({$value:"cancel"})},o.save=function(){o.user._id?n.updateUser(o.user).then(function(e){o.close({$value:e.data})})["catch"](function(e){var n;n=e.data&&e.data.message?e.data.message:"Something went wrong",t.error(n,"Error")}):n.createUser(o.user).then(function(e){o.close({$value:e.data})})["catch"](function(e){var n;n=e.data&&e.data.message?e.data.message:"Something went wrong",t.error(n,"Error")})}}e.$inject=["Auth","Users","toastr"],angular.module("app").component("createUserComponent",{templateUrl:"app/components/users/create/create.user.component.html",bindings:{resolve:"<",close:"&",dismiss:"&"},controller:e,controllerAs:"vm"})}(),function(){function e(e,n){var t=this;t.$onInit=function(){t.field=t.resolve.field,e.loadTypes().then(function(e){t.types=e.data})["catch"](function(){n.error("Error on load types","Error")})},t.cancel=function(){t.dismiss({$value:"cancel"})},t.save=function(){t.field._id?e.updateField(t.field).then(function(){t.close({$value:t.field})})["catch"](function(e){var t;t=e.data&&e.data.message?e.data.message:"Something went wrong",n.error(t,"Error")}):e.createField(t.field).then(function(e){t.close({$value:e.data})})["catch"](function(e){var t;t=e.data&&e.data.message?e.data.message:"Something went wrong",n.error(t,"Error")})}}e.$inject=["Fields","toastr"],angular.module("app").component("createFieldComponent",{templateUrl:"app/components/fields/create/create.field.component.html",bindings:{resolve:"<",close:"&",dismiss:"&"},controller:e,controllerAs:"vm"})}(),function(){function e(e,n){var t=this;t.$onInit=function(){t.document=t.resolve.document},t.cancel=function(){t.dismiss({$value:"cancel"})},t.save=function(){t.document._id?e.updateDocument(t.document).then(function(){t.close({$value:t.document})})["catch"](function(e){var n;n=e.data&&e.data.message?e.data.message:"Something went wrong",toastr.error(n,"Error")}):e.createDocument(t.document).then(function(e){t.close({$value:e.data})})["catch"](function(e){var n;n=e.data&&e.data.message?e.data.message:"Something went wrong",toastr.error(n,"Error")})},t.convertDate=function(e){e.value&&(e.value=new Date(e.value))},t.upload=function(e,t){n.upload({url:"/api/upload",data:{file:e}}).then(function(e){t.value=e.data},function(e){console.log("Error status: "+e.status)},function(e){t.progress=parseInt(100*e.loaded/e.total)})}}e.$inject=["Documents","Upload"],angular.module("app").component("documentCreateComponent",{templateUrl:"app/components/document/document-create/document-create.component.html",controller:e,controllerAs:"vm",bindings:{resolve:"<",close:"&",dismiss:"&"}})}(),function(){function e(){var e=this;e.reset=function(){e.filters={},e.search()},e.search=function(){e.onFiltersChanged({filters:e.filters})}}angular.module("app").component("deviceSearchComponent",{templateUrl:"app/components/device/device-search/device-search.component.html",bindings:{onFiltersChanged:"&",filters:"<"},controller:e,controllerAs:"vm"})}(),function(){function e(){}angular.module("app").component("deviceListComponent",{templateUrl:"app/components/device/device-list/device-list-component.html",controller:e,controllerAs:"vm",bindings:{devices:"<",openDeviceModal:"&","delete":"&",sortFilters:"<",onSortFiltersChanged:"&"}})}(),function(){function e(e,n,t,o){var a=this;a.$onInit=function(){n.getCategories().then(function(e){a.categories=e.data})["catch"](function(){o.error("Error on load categories","Error")}),t.getDevice(e.id).then(function(e){a.device=e.data})["catch"](function(){o.error("Error on load this device","Error")})}}e.$inject=["$stateParams","Category","Device","toastr"],angular.module("app").component("deviceDetailComponent",{templateUrl:"app/components/device/device-detail/device-detail.component.html",controller:e,controllerAs:"vm"})}(),function(){function e(e,n,t,o,a){var i=this;i.$onInit=function(){i.deviceId=e.id,i.categoryId=e.categoryId,i.loadDocuments(),a.getCategory(e.categoryId).then(function(e){i.category=e.data}),t.getFields(e.categoryId).then(function(e){i.fields=e.data})},i.loadDocuments=function(){n.getAll(e.id,e.categoryId).then(function(e){i.documents=e.data})},i.openDocumentModal=function(n){n._id||(n.category=e.categoryId,n.product=e.id,n.fields=i.fields.map(function(e){return{field:e}}));var t=o.open({animation:!0,component:"documentCreateComponent",resolve:{document:function(){return angular.copy(n)}}});t.result.then(function(){i.loadDocuments()})},i["delete"]=function(e){o.open({animation:!0,component:"confirmComponent",size:"sm",resolve:{message:function(){return"Are you sure to delete this document?"}}}).result.then(function(){n.deleteDocument(e).then(function(){i.loadDocuments()})["catch"](function(){toastr.error("Something went wrong","Error")})})}}e.$inject=["$stateParams","Documents","Fields","$uibModal","Category"],angular.module("app").component("deviceCategoryComponent",{templateUrl:"app/components/device/device-category/device-category.component.html",controller:e,controllerAs:"vm"})}(),function(){function e(e,n){var t=this;t.$onInit=function(){t.category=t.resolve.category,e.getCategoriesForSub().then(function(e){if(t.relationCategories=e.data,t.category._id&&"Table with subcategory"===t.category.type){for(var n=0;n<t.relationCategories.length;n++)if(t.relationCategories[n]._id===t.category.relatedCategory){t.category.relatedCategory=t.relationCategories[n];break}for(n=0;n<t.category.relatedCategory.fields.length;n++)if(t.category.relatedCategory.fields[n]._id===t.category.subcategoryField){t.category.subcategoryField=t.category.relatedCategory.fields[n];break}}})["catch"](function(){n.error("Something went wrong","Error")}),t.categoryType=["Table","Form","Gallery","Table with subcategory"]},t.clearRelatedCategory=function(){delete t.category.relatedCategory,t.clearRelatedField()},t.clearRelatedField=function(){delete t.category.subcategoryField},t.cancel=function(){t.dismiss({$value:"cancel"})},t.save=function(){t.category._id?e.updateCategory(t.category).then(function(){t.close({$value:t.category})})["catch"](function(e){var t;t=e.data&&e.data.message?e.data.message:"Something went wrong",n.error(t,"Error")}):e.createCategory(t.category).then(function(e){t.close({$value:e.data})})["catch"](function(e){var t;t=e.data&&e.data.message?e.data.message:"Something went wrong",n.error(t,"Error")})}}e.$inject=["Category","toastr"],angular.module("app").component("createCategoryComponent",{templateUrl:"app/components/categories/create/create.category.component.html",bindings:{resolve:"<",close:"&",dismiss:"&"},controller:e,controllerAs:"vm"})}(),function(){function e(e,n,t){var o=this;o.$onInit=function(){e.getCurrentUser().then(function(e){o.user=e}),n.getUsers().then(function(e){o.users=e.data})["catch"](function(){toastr.error("Something went wrong","Error")})},o.openUserModal=function(e,n){var a=t.open({animation:!0,component:"createUserComponent",resolve:{user:function(){return angular.copy(e)}}});a.result.then(function(t){e._id===t._id?o.users[n]=t:o.users.push(t)})},o["delete"]=function(e,a){t.open({animation:!0,component:"confirmComponent",size:"sm",resolve:{message:function(){return"Are you sure to delete user "+e.name+"?"}}}).result.then(function(){n.deleteUser(e).then(function(){o.users.splice(a,1)})["catch"](function(){toastr.error("Something went wrong","Error")})})}}e.$inject=["Auth","Users","$uibModal"],angular.module("app").component("usersComponent",{templateUrl:"app/components/users/users.component.html",controller:e,controllerAs:"vm"})}(),function(){function e(e){var n=this;n.$onInit=function(){n.isNavCollapsed=!1,e.getCurrentUser().then(function(e){n.user=e})}}e.$inject=["Auth"],angular.module("app").component("navbarComponent",{templateUrl:"app/components/navbar/navbar.component.html",controller:e,controllerAs:"vm"})}(),function(){function e(){var e=this;e.$onInit=function(){e.currentDate=new Date}}angular.module("app").component("mainComponent",{templateUrl:"app/components/main/main.component.html",controller:e,controllerAs:"vm"})}(),function(){function e(e,n,t){var o=this;o.$onInit=function(){e.logOut(),o.data={}},o.login=function(){e.login(o.data).then(function(e){"salesAdmin"===e.role?n.go("about"):n.go("home")})["catch"](function(e){var n;n=e.data&&e.data.message?e.data.message:"Something went wrong",t.error(n,"Error")})}}e.$inject=["Auth","$state","toastr"],angular.module("app").component("loginComponent",{templateUrl:"app/components/login/login.component.html",controller:e,controllerAs:"vm"})}(),function(){function e(e,n,t,o){var a=this;a.$onInit=function(){a.devices=[],a.sortFilters=e.get("deviceSortFilters")||{sort:"model",order:!0},a.pagination={page:1,limit:10},a.filters=e.get("deviceFilters")||{},a.loadDevices()},a.onFiltersChanged=function(n){e.set("deviceFilters",n),a.filters=n,a.loadDevices()},a.onSortFiltersChanged=function(n){a.sortFilters.sort===n?a.sortFilters.order=!a.sortFilters.order:(a.sortFilters.sort=n,a.sortFilters.order=!0),e.set("deviceSortFilters",a.sortFilters),a.loadDevices()},a.loadDevices=function(){var e="?";for(var o in a.filters)a.filters[o]&&(e=e+o+"="+a.filters[o]+"&");e=e+"sort="+(a.sortFilters.order?"":"-")+a.sortFilters.sort+"&",e=e+"page="+a.pagination.page+"&",e=e+"limit="+a.pagination.limit,n.getAll(e).then(function(e){a.devices=e.data.docs,a.pagination.total=e.data.total,a.pagination.page=e.data.page})["catch"](function(){t.error("Something went wrong","Error")})},a.openDeviceModal=function(e,n){var t=o.open({animation:!0,component:"createDeviceComponent",resolve:{device:function(){return angular.copy(e)}}});t.result.then(function(e){a.loadDevices()})},a["delete"]=function(e,i){o.open({animation:!0,component:"confirmComponent",size:"sm",resolve:{message:function(){return"Are you sure to delete device "+e.model+"?"}}}).result.then(function(){n.deleteDevice(e).then(function(){a.loadDevices()})["catch"](function(){t.error("Something went wrong","Error")})})}}e.$inject=["localStorageService","Device","toastr","$uibModal"],angular.module("app").component("homeComponent",{templateUrl:"app/components/home/home.component.html",controller:e,controllerAs:"vm"})}(),function(){function e(){}angular.module("app").component("helpComponent",{templateUrl:"app/components/help/help-component.html",controller:e,controllerAs:"vm"})}(),function(){function e(e,n,t,o,a,i){var r=this;r.$onInit=function(){o.getCategory(n.id).then(function(e){r.category=e.data})["catch"](function(){i.error("Something went wrong","Error"),a.go("categories")}),e.getFields(n.id).then(function(e){r.fields=e.data})["catch"](function(){i.error("Something went wrong","Error")})},r.openFieldModal=function(e,o){e.category||(e.category=n.id),e.required=!!e.required;var a=t.open({animation:!0,component:"createFieldComponent",resolve:{field:function(){return angular.copy(e)}}});a.result.then(function(n){e._id===n._id?r.fields[o]=n:r.fields.push(n)})},r["delete"]=function(n,o){t.open({animation:!0,component:"confirmComponent",size:"sm",resolve:{message:function(){return"Are you sure to delete field "+n.title+"?"}}}).result.then(function(){e.deleteField(n).then(function(){r.fields.splice(o,1)})["catch"](function(){i.error("Something went wrong","Error")})})}}e.$inject=["Fields","$stateParams","$uibModal","Category","$state","toastr"],angular.module("app").component("fieldsComponent",{templateUrl:"app/components/fields/fields.component.html",controller:e,controllerAs:"vm"})}(),function(){angular.module("app").component("confirmComponent",{templateUrl:"app/components/confirm/confirm.component.html",bindings:{resolve:"<",close:"&",dismiss:"&"},controller:function(){},controllerAs:"vm"})}(),function(){function e(e,n,t){var o=this;o.$onInit=function(){e.getCategories().then(function(e){o.categories=e.data})["catch"](function(){n.error("Error on load categories","Error")})},o.openCategoryModal=function(e,n){var a=t.open({animation:!0,component:"createCategoryComponent",resolve:{category:function(){return angular.copy(e)}}});a.result.then(function(t){e._id===t._id?o.categories[n]=t:o.categories.push(t)})},o["delete"]=function(a,i){t.open({animation:!0,component:"confirmComponent",size:"sm",resolve:{message:function(){return"Are you sure to delete category "+a.title+"?"}}}).result.then(function(){e.deleteCategory(a).then(function(){o.categories.splice(i,1)})["catch"](function(){n.error("Something went wrong","Error")})})}}e.$inject=["Category","toastr","$uibModal"],angular.module("app").component("categoriesComponent",{templateUrl:"app/components/categories/categories.component.html",controller:e,controllerAs:"vm"})}(),function(){function e(){}angular.module("app").component("aboutComponent",{templateUrl:"app/components/about/about-component.html",controller:e,controllerAs:"vm"})}(),function(){function e(e){var n=this;n.getUsers=function(){return e.get("/api/users")},n.createUser=function(n){return e.post("/api/users",n)},n.updateUser=function(n){return e.put("/api/users/"+n._id,n)},n.deleteUser=function(n){return e["delete"]("/api/users/"+n._id)}}e.$inject=["$http"],angular.module("app").service("Users",e)}(),function(){function e(e){var n=this;n.getAll=function(n){return e.get("/api/sales"+n)},n.createSale=function(n){return e.post("/api/sales",n)},n.updateSale=function(n){return e.put("/api/sales/"+n._id,n)},n.deleteSale=function(n){return e["delete"]("/api/sales/"+n._id)}}e.$inject=["$http"],angular.module("app").service("Sales",e)}(),function(){function e(e){var n=this;n.getFields=function(n){return e.get("/api/fields?category="+n)},n.getField=function(n){return e.get("/api/fields/"+n)},n.createField=function(n){return e.post("/api/fields",n)},n.updateField=function(n){return e.put("/api/fields/"+n._id,n)},n.deleteField=function(n){return e["delete"]("/api/fields/"+n._id)},n.loadTypes=function(){return e.get("/api/types")}}e.$inject=["$http"],angular.module("app").service("Fields",e)}(),function(){function e(e){var n=this;n.getAll=function(n,t){return e.get("/api/documents?product="+n+"&category="+t)},n.createDocument=function(n){return e.post("/api/documents",n)},n.updateDocument=function(n){return e.put("/api/documents/"+n._id,n)},n.deleteDocument=function(n){return e["delete"]("/api/documents/"+n._id)}}e.$inject=["$http"],angular.module("app").service("Documents",e)}(),function(){function e(e){var n=this;n.getAll=function(n){return e.get("/api/products"+n)},n.getDevice=function(n){return e.get("/api/products/"+n)},n.createDevice=function(n){return e.post("/api/products",n)},n.updateDevice=function(n){return e.put("/api/products/"+n._id,n)},n.deleteDevice=function(n){return e["delete"]("/api/products/"+n._id)}}e.$inject=["$http"],angular.module("app").service("Device",e)}(),function(){function e(e){var n=this;n.getCategories=function(){return e.get("/api/categories")},n.getCategory=function(n){return e.get("/api/categories/"+n)},n.getCategoriesForSub=function(){return e.get("/api/categories/relation/fields")},n.createCategory=function(n){return e.post("/api/categories",n)},n.updateCategory=function(n){return e.put("/api/categories/"+n._id,n)},n.deleteCategory=function(n){return e["delete"]("/api/categories/"+n._id)}}e.$inject=["$http"],angular.module("app").service("Category",e)}(),function(){function e(e,n,t){function o(){return e.get("/api/users/me").then(function(e){return e.data})}var a=this;a.isLoggedin=!!n.get("token");var i={};a.isLoggedin&&(i=o()),a.login=function(t){return e.post("/api/auth/local",t).then(function(e){return n.set("token",e.data.token),a.isLoggedin=!0,i=o()})},a.getCurrentUser=function(){return t.when(i)},a.logOut=function(){n.remove("token"),n.remove("deviceFilters"),n.remove("deviceSortFilters"),a.isLoggedin=!1,i={}}}e.$inject=["$http","localStorageService","$q"],angular.module("app").service("Auth",e)}(),function(){function e(e,n,t){return{request:function(n){return n.headers=n.headers||{},n.headers.authorization="Bearer "+e.get("token"),n},responseError:function(e){if(401===e.status){var o=t.get("$state");"login"!==o.$current.name&&o.go("login")}return n.reject(e)}}}e.$inject=["localStorageService","$q","$injector"],angular.module("app").factory("AuthInterceptor",e)}(),function(){function e(e){return{restrict:"A",scope:{hasRole:"<"},link:function(n,t,o){e.getCurrentUser().then(function(e){n.hasRole.indexOf(e.role)===-1&&t.hide()})}}}e.$inject=["Auth"],angular.module("app").directive("hasRole",e)}(),angular.module("app").run(["$templateCache",function(e){e.put("app/components/about/about-component.html","About\n"),e.put("app/components/categories/categories.component.html",'<div class="row">\n  <div class="col-sm-12 table-responsive">\n    <p>\n      <button class="btn btn-primary" ng-click="vm.openCategoryModal({})">Create</button>\n    </p>\n    <table class="table table-bordered" ng-if="vm.categories.length > 0">\n      <thead>\n      <th>Name</th>\n      <th>Production</th>\n      <th>Sales</th>\n      <th>Published</th>\n      <th>Type</th>\n      <th>Date create</th>\n      <th class="col-actions">Actions</th>\n      </thead>\n      <tbody>\n      <tr ng-repeat="category in vm.categories">\n        <td>{{category.title}}</td>\n        <td>{{category.production}}</td>\n        <td>{{category.sales}}</td>\n        <td>{{category.published}}</td>\n        <td>{{category.type}}</td>\n        <td>{{category.dateCreate | date : \'dd.MM.yyyy HH:mm\'}}</td>\n        <td class="col-actions">\n          <a ui-sref="fields({id: category._id})" class="btn btn-success btn-sm">\n            <span class="glyphicon glyphicon-eye-open"></span>\n          </a>\n          <button type="button" ng-click="vm.openCategoryModal(category, $index)" class="btn btn-primary btn-sm">\n            <span class="glyphicon glyphicon-edit"></span>\n          </button>\n          <button type="button" ng-click="vm.delete(category, $index)" class="btn btn-danger btn-sm">\n            <span class="glyphicon glyphicon-trash"></span>\n          </button>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="col-xs-12" ng-if="vm.categories.length === 0">\n    <div class="jumbotron text-center">\n      <h4>Categories empty now, create your first category!</h4>\n    </div>\n  </div>\n</div>\n'),e.put("app/components/confirm/confirm.component.html",'<div class="modal-header">\n  <h4>{{vm.resolve.title ? vm.resolve.title : \'Confirm\'}}</h4>\n</div>\n<div class="modal-body">\n  <p>{{vm.resolve.message}}</p>\n</div>\n<div class="modal-footer text-right">\n  <button class="btn btn-danger" ng-click="vm.dismiss({$value: false})">Cancel</button>\n  <button class="btn btn-success" ng-click="vm.close({$value: true})">Ok</button>\n</div>\n'),e.put("app/components/fields/fields.component.html",'<div class="row">\n  <div class="col-sm-12 table-responsive">\n    <h3>Category: {{vm.category.title}}</h3>\n    <p ng-if="vm.category.type !== \'Gallery\'">\n      <button class="btn btn-primary" ng-click="vm.openFieldModal({})">Create</button>\n    </p>\n    <table class="table table-bordered" ng-if="vm.fields.length > 0">\n      <thead>\n      <th>Field name</th>\n      <th>Field type</th>\n      <th>Required</th>\n      <th>Use as subcategory</th>\n      <th class="col-actions" ng-if="vm.category.type !== \'Gallery\'">Actions</th>\n      </thead>\n      <tbody>\n      <tr ng-repeat="field in vm.fields">\n        <td>{{field.title}}</td>\n        <td>{{field.type.label}}</td>\n        <td>{{field.required}}</td>\n        <td>{{field.useAsSubcategory}}</td>\n        <td class="col-actions" ng-if="vm.category.type !== \'Gallery\'">\n          <button type="button" ng-click="vm.openFieldModal(field, $index)" class="btn btn-primary btn-sm">\n            <span class="glyphicon glyphicon-edit"></span>\n          </button>\n          <button type="button" ng-click="vm.delete(field, $index)" class="btn btn-danger btn-sm">\n            <span class="glyphicon glyphicon-trash"></span>\n          </button>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="col-xs-12" ng-if="vm.fields.length === 0">\n    <div class="jumbotron text-center">\n      <h4>Selected category don\'t has any field.</h4>\n    </div>\n  </div>\n</div>\n'),e.put("app/components/help/help-component.html","Help\n"),e.put("app/components/home/home.component.html",'<div class="row">\n  <div class="col-md-3">\n    <device-search-component filters="vm.filters" on-filters-changed="vm.onFiltersChanged(filters)"></device-search-component>\n  </div>\n  <div class="col-md-9">\n    <p><button class="btn btn-primary" has-role="[\'admin\']" ng-click="vm.openDeviceModal({})">Create</button></p>\n    <device-list-component devices="vm.devices" delete="vm.delete(device, index)" sort-filters="vm.sortFilters" on-sort-filters-changed="vm.onSortFiltersChanged(key)" open-device-modal="vm.openDeviceModal(device, index)"></device-list-component>\n\n    <ul uib-pagination total-items="vm.pagination.total" ng-model="vm.pagination.page" ng-change="vm.loadDevices()" max-size="6" items-per-page="vm.pagination.limit" class="pagination-sm pull-left" boundary-link-numbers="true"></ul>\n  </div>\n</div>\n'),e.put("app/components/login/login.component.html",'<div class="container">\n  <div class="row">\n    <div class="col-md-offset-3 col-sm-6">\n     <div class="jumbotron">\n       <form name="vm.form" ng-submit="vm.login()">\n         <div class="form-group">\n           <label for="email">Username</label>\n           <input type="text" ng-model="vm.data.email" id="email" name="email" class="form-control" placeholder="Username" required>\n         </div>\n         <div class="form-group">\n           <label for="password">Password</label>\n           <input type="password" ng-model="vm.data.password" id="password" class="form-control" placeholder="Password" name="password" required>\n         </div>\n         <button type="submit" class="btn btn-success btn-md" ng-disabled="vm.form.$invalid">Log in</button>\n       </form>\n     </div>\n    </div>\n  </div>\n</div>\n'),e.put("app/components/main/main.component.html",'<navbar-component></navbar-component>\n<div class="main-states">\n  <div class="container">\n    <ui-view></ui-view>\n  </div>\n</div>\n<div class="footer-main">\n  <p>Â© Incognito LCC {{vm.currentDate | date: \'yyyy\'}}</p>\n</div>'),e.put("app/components/navbar/navbar.component.html",'<div>\n  <nav class="navbar navbar-default" role="navigation">\n    <div class="container">\n      <div class="navbar-header">\n        <button type="button" class="navbar-toggle" ng-click="vm.isNavCollapsed = !vm.isNavCollapsed">\n          <span class="sr-only">Toggle navigation</span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n        </button>\n        <a class="navbar-brand" ui-sref="home">Devices</a>\n      </div>\n      <div class="collapse navbar-collapse" uib-collapse="vm.isNavCollapsed">\n        <ul class="nav navbar-nav">\n          <li has-role="[\'admin\', \'productionAdmin\', \'salesAdmin\']" ui-sref-active="active"><a ui-sref="users">Users</a></li>\n          <li has-role="[\'admin\']" ui-sref-active="active"><a ui-sref="categories">Categories</a></li>\n          <li ui-sref-active="active"><a ui-sref="about">About</a></li>\n          <li ui-sref-active="active"><a ui-sref="help">Help</a></li>\n        </ul>\n        <p class="navbar-text navbar-right visible-xs">{{vm.user.name}}</p>\n        <ul class="nav navbar-nav navbar-right">\n          <li><a ui-sref="login">Logout</a></li>\n        </ul>\n        <p class="navbar-text navbar-right hidden-xs">{{vm.user.name}}</p>\n      </div>\n    </div>\n  </nav>\n</div>\n'),e.put("app/components/users/users.component.html",'<div class="row">\n  <div class="col-sm-12">\n    <p>\n      <button class="btn btn-primary" ng-click="vm.openUserModal({})">Create</button>\n    </p>\n    <table class="table table-bordered">\n      <thead>\n      <th>Name</th>\n      <th>Email</th>\n      <th>Role</th>\n      <th class="col-actions">Actions</th>\n      </thead>\n      <tbody>\n      <tr ng-repeat="user in vm.users">\n        <td>{{user.name}}</td>\n        <td>{{user.email}}</td>\n        <td>{{user.role}}</td>\n        <td class="col-actions">\n          <button type="button" ng-click="vm.openUserModal(user, $index)" class="btn btn-primary btn-sm">\n            <span class="glyphicon glyphicon-edit"></span>\n          </button>\n          <button type="button" ng-click="vm.delete(user, $index)" ng-disabled="user._id === vm.user._id" class="btn btn-danger btn-sm">\n            <span class="glyphicon glyphicon-trash"></span>\n          </button>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n\n  </div>\n</div>\n'),
e.put("app/components/categories/create/create.category.component.html",'<form ng-submit="vm.save()" name="vm.form">\n  <div class="modal-header">\n    <h4>Category details</h4>\n  </div>\n  <div class="modal-body">\n    <div class="form-group">\n      <label for="categoryName">Name</label>\n      <input type="text" ng-model="vm.category.title" id="categoryName" name="categoryName" class="form-control" required placeholder="category name">\n    </div>\n    <div class="form-group">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="vm.category.production">\n          Production\n        </label>\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="vm.category.sales">\n          Sales\n        </label>\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="vm.category.published">\n          Published\n        </label>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="category-type">Category type</label>\n      <select name="category-type" id="category-type" ng-model="vm.category.type" ng-disabled="vm.category._id" class="form-control" ng-change="vm.clearRelatedCategory()" required ng-options="type as type for type in vm.categoryType">\n      </select>\n    </div>\n    <div class="form-group" ng-if="vm.category.type === \'Table with subcategory\'">\n      <label for="relatedCategory">Please select related category</label>\n      <select name="relatedCategory" id="relatedCategory" ng-model="vm.category.relatedCategory" class="form-control" ng-disabled="vm.category._id" ng-change="vm.clearRelatedField()" required ng-options="category as category.title for category in vm.relationCategories">\n      </select>\n    </div>\n    <div class="form-group" ng-if="vm.category.relatedCategory">\n      <label for="subcategoryField">Please select related field</label>\n      <select name="subcategoryField" id="subcategoryField" ng-disabled="vm.category._id" ng-model="vm.category.subcategoryField" class="form-control" required ng-options="field as field.title for field in vm.category.relatedCategory.fields">\n      </select>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <button type="submit" class="btn btn-primary" ng-disabled="vm.form.$invalid">Save</button>\n    <button type="button" class="btn btn-warning" ng-click="vm.cancel()">Cancel</button>\n  </div>\n\n</form>\n'),e.put("app/components/device/device-category/device-category.component.html",'<div class="row">\n  <p class="col-sm-12">\n    <button class="btn btn-primary" ng-if="(vm.category.type !== \'Form\' || vm.category.type === \'Form\' && vm.documents.length === 0) &&\n                    vm.fields.length > 0 && vm.category.type !== \'Table with subcategory\'" has-role="[\'admin\', \'productionAdmin\', \'salesAdmin\']" ng-click="vm.openDocumentModal({})">Create\n    </button>\n    <button type="button" ng-click="vm.openDocumentModal(vm.documents[0], 0)" ng-if="vm.category.type === \'Form\' && vm.documents.length >=1" class="btn btn-primary">\n      Edit\n    </button>\n  </p>\n  <device-category-table ng-if="vm.category.type === \'Table\' && vm.fields.length > 0 && vm.documents.length > 0" open-document-modal="vm.openDocumentModal(document)" delete="vm.delete(document)" fields="vm.fields" documents="vm.documents"></device-category-table>\n  <device-category-gallery ng-if="vm.category.type === \'Gallery\'" delete="vm.delete(document)" documents="vm.documents"></device-category-gallery>\n  <device-category-form ng-if="vm.category.type === \'Form\' && vm.documents[0]" documents="vm.documents"></device-category-form>\n  <device-subcategories ng-if="vm.category.type === \'Table with subcategory\'" documents="vm.documents" fields="vm.fields" device-id="vm.deviceId" delete="vm.delete(document)" open-document-modal="vm.openDocumentModal(document)" category="vm.category"></device-subcategories>\n  <div class="col-xs-12" ng-if="vm.fields.length === 0">\n    <div class="jumbotron col-xs-12 text-center">\n      <h4>\n        Selected category don\'t has any field.\n      </h4>\n      <a ui-sref="fields({id: vm.categoryId})" class="btn btn-primary" has-role="[\'admin\']">Add fields</a>\n    </div>\n  </div>\n  <div class="col-xs-12" ng-if="vm.fields.length > 0 &&\n              vm.documents.length === 0 &&\n              vm.category.type != \'Table with subcategory\'">\n    <div class="jumbotron text-center">\n      <h4>Selected device don\'t has any info in this category.</h4>\n    </div>\n  </div>\n</div>\n\n'),e.put("app/components/device/device-detail/device-detail.component.html",'<div class="row">\n  <div class="col-md-3 sm-spacer">\n    <uib-accordion close-others="oneAtATime">\n      <div uib-accordion-group class="panel-primary" heading="Device info">\n        <p><b>Model name: </b>{{vm.device.model}}</p>\n        <p><b>Part number: </b>{{vm.device.partNumber}}</p>\n        <p><b>UPC: </b>{{vm.device.upc}}</p>\n        <p><b>Description: </b>{{vm.device.description}}</p>\n      </div>\n    </uib-accordion>\n    <ul class="nav nav-pills nav-stacked">\n      <li ng-repeat="category in vm.categories" ui-sref-active="active">\n        <a ui-sref=".category({categoryId: category._id})">\n          {{category.title}}\n        </a>\n      </li>\n      <li ui-sref-active="active" has-role="[\'admin\', \'salesAdmin\', \'salesUser\']">\n        <a ui-sref="device.serialNumbers">Serial Number Information</a>\n      </li>\n    </ul>\n  </div>\n  <div class="col-md-9">\n    <div class="row">\n      <ui-view class="col-xs-12">\n        <div class="jumbotron text-center">\n          <h4>Select category for detail.</h4>\n        </div>\n      </ui-view>\n    </div>\n  </div>\n</div>\n'),e.put("app/components/device/device-list/device-list-component.html",'<div class="table-responsive">\n  <table class="table table-bordered">\n    <thead>\n    <th ng-click="vm.onSortFiltersChanged({key: \'model\'})">\n      Model name\n      <span class="glyphicon glyphicon-triangle-bottom" ng-class="{reverse: vm.sortFilters.order}" ng-show="vm.sortFilters.sort === \'model\'"></span>\n    </th>\n    <th ng-click="vm.onSortFiltersChanged({key: \'partNumber\'})">\n      Part number\n      <span class="glyphicon glyphicon-triangle-bottom" ng-class="{reverse: vm.sortFilters.order}" ng-show="vm.sortFilters.sort === \'partNumber\'"></span>\n    </th>\n    <th ng-click="vm.onSortFiltersChanged({key: \'upc\'})">\n      UPC\n      <span class="glyphicon glyphicon-triangle-bottom" ng-class="{reverse: vm.sortFilters.order}" ng-show="vm.sortFilters.sort === \'upc\'"></span>\n    </th>\n    <th ng-click="vm.onSortFiltersChanged({key: \'description\'})">\n      Description\n      <span class="glyphicon glyphicon-triangle-bottom" ng-class="{reverse: vm.sortFilters.order}" ng-show="vm.sortFilters.sort === \'description\'"></span>\n    </th>\n    <th class="col-actions">Actions</th>\n    </thead>\n    <tbody>\n    <tr ng-repeat="device in vm.devices" ui-sref="device({id: device._id})">\n      <td>{{device.model}}</td>\n      <td>{{device.partNumber}}</td>\n      <td>{{device.upc}}</td>\n      <td>{{device.description}}</td>\n      <td class="col-actions">\n        <button type="button" has-role="[\'admin\']" ng-click="vm.openDeviceModal({device: device, index: $index})" class="btn btn-primary btn-sm">\n          <span class="glyphicon glyphicon-edit"></span>\n        </button>\n        <button type="button" has-role="[\'admin\']" ng-click="vm.delete({device: device, index: $index})" class="btn btn-danger btn-sm">\n          <span class="glyphicon glyphicon-trash"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n</div>\n'),e.put("app/components/device/device-search/device-search.component.html",'<form name="vm.form" ng-submit="vm.search()">\n  <div class="form-group">\n    <label for="modelName">Model name:</label>\n    <input type="text" ng-model="vm.filters.model" id="modelName" name="modelName" class="form-control" placeholder="Model name">\n  </div>\n  <div class="form-group">\n    <label for="partNumber">Part Number:</label>\n    <input type="text" ng-model="vm.filters.partNumber" id="partNumber" class="form-control" placeholder="Part number" name="partNumber">\n  </div>\n  <div class="form-group">\n    <label for="upc">UPC:</label>\n    <input type="text" ng-model="vm.filters.upc" id="upc" class="form-control" placeholder="UPC" name="upc">\n  </div>\n  <div class="form-group">\n    <label for="description">Description:</label>\n    <input type="text" ng-model="vm.filters.description" id="description" name="description" class="form-control" placeholder="Description">\n  </div>\n  <div class="form-group" has-role="[\'admin\', \'salesAdmin\', \'salesUser\']">\n    <label for="serialNumber">Serial number:</label>\n    <input type="text" ng-model="vm.filters.serialNumber" id="serialNumber" name="serialNumber" class="form-control" placeholder="Serial number">\n  </div>\n  <div class="text-right">\n    <button type="button" class="btn btn-warning" ng-click="vm.reset()">Reset</button>\n    <button type="submit" class="btn btn-success">Search</button></div>\n</form>\n\n'),e.put("app/components/document/document-create/document-create.component.html",'<form ng-submit="vm.save()" name="vm.form">\n  <div class="modal-header">\n    <h4>Document details</h4>\n  </div>\n  <div class="modal-body">\n    <div ng-repeat="obj in vm.document.fields">\n      <div class="form-group" ng-if="obj.field.type.value === \'number\'">\n        <label for="{{obj.field.title}}">{{obj.field.title}}</label>\n        <input type="number" ng-model="obj.value" placeholder="{{obj.field.title}}" id="{{obj.field.title}}" name="{{obj.field.title}}" class="form-control" ng-required="obj.field.required">\n      </div>\n      <div class="form-group" ng-if="obj.field.type.value === \'text\'">\n        <label for="{{obj.field.title}}">{{obj.field.title}}</label>\n        <input type="text" ng-model="obj.value" placeholder="{{obj.field.title}}" id="{{obj.field.title}}" name="{{obj.field.title}}" class="form-control" ng-required="obj.field.required">\n      </div>\n      <div class="form-group" ng-if="obj.field.type.value === \'link\'">\n        <label for="{{obj.field.title}}">{{obj.field.title}}</label>\n        <input type="text" ng-model="obj.value" placeholder="http://{{obj.field.title}}" id="{{obj.field.title}}" name="{{obj.field.title}}" ng-pattern="/https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/" class="form-control" ng-required="obj.field.required">\n      </div>\n      <div class="form-group" ng-if="obj.field.type.value === \'longText\'">\n        <label for="{{obj.field.title}}">{{obj.field.title}}</label>\n        <textarea ng-model="obj.value" id="{{obj.field.title}}" placeholder="{{obj.field.title}}" name="{{obj.field.title}}" class="form-control" ng-required="obj.field.required"></textarea>\n      </div>\n      <div class="form-group" ng-if="obj.field.type.value === \'select\'">\n        <label for="{{obj.field.title}}">{{obj.field.title}}</label>\n        <select ng-model="obj.value" id="{{obj.field.title}}" name="{{obj.field.title}}" class="form-control" ng-required="obj.field.required" ng-options="option as option for option in obj.field.options">\n        </select>\n      </div>\n      <div class="form-group" ng-if="obj.field.type.value === \'file\'">\n        <label for="{{obj.field.title}}">{{obj.field.title}}</label>\n        <div class="load-progress">\n          <uib-progressbar max="100" value="obj.progress" ng-if="obj.progress >= 0">\n            <span style="color:white; white-space:nowrap">{{obj.progress}} / 100</span>\n          </uib-progressbar>\n        </div>\n        <div class="clearfix"></div>\n        <div class="input-group" ngf-select="vm.upload($file, obj)">\n          <span class="input-group-btn">\n            <button class="btn btn-default" type="button">Search</button>\n          </span>\n          <input type="text" id="{{obj.field.title}}" name="{{obj.field.title}}" ng-model="obj.value.originalname" class="form-control" placeholder="{{obj.field.title}}" ng-required="obj.field.required" readonly="readonly">\n        </div>\n      </div>\n      <div class="form-group" ng-if="obj.field.type.value === \'img\'">\n        <label for="{{obj.field.title}}">{{obj.field.title}}</label>\n        <div class="load-progress">\n          <uib-progressbar max="100" value="obj.progress" ng-if="obj.progress >= 0">\n            <span style="color:white; white-space:nowrap">{{obj.progress}} / 100</span>\n          </uib-progressbar>\n        </div>\n        <div class="clearfix"></div>\n        <div class="input-group" ngf-select="vm.upload($file, obj)" ngf-accept="\'image/*\'">\n          <span class="input-group-btn">\n            <button class="btn btn-default" type="button">Search</button>\n          </span>\n          <input type="text" id="{{obj.field.title}}" name="{{obj.field.title}}" ng-model="obj.value.originalname" placeholder="{{obj.field.title}}" class="form-control" ng-required="obj.field.required" readonly="readonly">\n        </div>\n      </div>\n      <div class="form-group" ng-if="obj.field.type.value === \'date\'">\n        <label for="{{obj.field.title}}">{{obj.field.title}}</label>\n        <p class="input-group" ng-init="vm.convertDate(obj)">\n          <input type="text" class="form-control" uib-datepicker-popup="dd.MM.yyyy" ng-model="obj.value" popup-placement="auto" is-open="obj.open" ng-required="obj.required" close-text="Close">\n          <span class="input-group-btn">\n            <button type="button" class="btn btn-default" ng-click="obj.open = !obj.open">\n              <i class="glyphicon glyphicon-calendar"></i></button>\n          </span>\n        </p>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <button type="submit" class="btn btn-primary" ng-disabled="vm.form.$invalid">Save</button>\n    <button type="button" class="btn btn-warning" ng-click="vm.cancel()">Cancel</button>\n  </div>\n\n</form>\n'),e.put("app/components/fields/create/create.field.component.html",'<form ng-submit="vm.save()" name="vm.form">\n  <div class="modal-header">\n    <h4>Field details</h4>\n  </div>\n  <div class="modal-body">\n    <div class="form-group">\n      <label for="field-title">Title</label>\n      <input type="text" ng-model="vm.field.title" id="field-title" name="fieldTitle" class="form-control" required placeholder="Title">\n    </div>\n    <div class="form-group">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="vm.field.required">\n          Required\n        </label>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="field-type">Field type</label>\n      <select name="field-type" id="field-type" ng-model="vm.field.type" ng-change="vm.field.useAsSubcategory = false" class="form-control" required ng-options="type as type.label for type in vm.types track by type._id">\n      </select>\n    </div>\n    <chips ng-model="vm.field.options" required ng-if="vm.field.type.value === \'select\'">\n      <chip-tmpl>\n        <div class="default-chip">\n          {{chip}}\n          <span class="glyphicon glyphicon-remove" remove-chip></span>\n        </div>\n      </chip-tmpl>\n      <input chip-control placeholder="Enter an options">\n    </chips>\n    <div ng-if="vm.field.type.value === \'text\'" class="form-group">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="vm.field.useAsSubcategory">\n          Can be used as subcategory\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <button type="submit" class="btn btn-primary" ng-disabled="vm.form.$invalid">Save</button>\n    <button type="button" class="btn btn-warning" ng-click="vm.cancel()">Cancel</button>\n  </div>\n\n</form>\n'),e.put("app/components/users/create/create.user.component.html",'<form ng-submit="vm.save()" name="vm.form">\n<div class="modal-header">\n  <h4>User details</h4>\n</div>\n<div class="modal-body">\n    <div class="form-group">\n      <label for="userName">Name</label>\n      <input type="text" ng-model="vm.user.name" id="userName" name="userName" class="form-control" required placeholder="User name">\n    </div>\n    <div class="form-group">\n      <label for="email">Email</label>\n      <input type="text" ng-model="vm.user.email" id="email" name="email" required class="form-control" placeholder="Email">\n    </div>\n    <div class="form-group" ng-if="vm.user._id">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="vm.changePassword">\n          Change password\n        </label>\n      </div>\n    </div>\n    <div class="form-group" ng-if="!vm.user._id || vm.changePassword">\n      <label for="password">Password</label>\n      <input type="password" ng-model="vm.user.password" id="password" name="password" class="form-control" required placeholder="Password">\n    </div>\n    <div class="form-group">\n      <label for="role">Role</label>\n      <select name="role" id="role" ng-model="vm.user.role" class="form-control" required ng-options="role.value as role.label for role in vm.roles">\n      </select>\n    </div>\n</div>\n<div class="modal-footer">\n  <button type="submit" class="btn btn-primary" ng-disabled="vm.form.$invalid">Save</button>\n  <button type="button" class="btn btn-warning" ng-click="vm.cancel()">Cancel</button>\n</div>\n\n</form>\n'),e.put("app/components/device/device-category/device-category-form/device-category-form.html",'<div class="col-md-8 col-md-offset-2">\n  <div class="well well-sm">\n    <div class="form-horizontal">\n      <div class="form-group" ng-repeat="field in vm.documents[0].fields">\n        <label class="col-sm-4 control-label">{{field.field.title}}</label>\n        <div class="col-sm-8">\n          <p class="form-control-static">\n            <a href="/api/uploads/{{field.value.filename}}" ng-if="field.field.type.value === \'file\'" target="_blank">{{field.value.originalname}}</a>\n            <a href="/api/uploads/{{field.value.filename}}" target="_blank" ng-if="field.field.type.value === \'img\'">\n              <img ng-src="/api/uploads/{{field.value.filename}}" style="width: 150px">\n            </a>\n            <span ng-if="field.field.type.value === \'text\' ||\n                     field.field.type.value === \'number\' ||\n                     field.field.type.value === \'select\' ||\n                     field.field.type.value === \'longText\' ">{{field.value}}</span>\n            <span ng-if="field.field.type.value === \'date\'">{{field.value | date : \'dd.MM.yyyy\'}}</span>\n            <a href="{{field.value}}" ng-if="field.field.type.value === \'link\'" target="_blank">{{field.value}}</a>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("app/components/device/device-category/device-category-gallery/device-category-gallery.html",'<div class="col-sm-12">\n  <div uib-carousel active="vm.active" interval="0">\n    <div uib-slide ng-repeat="document in vm.documents track by document._id" index="$index">\n      <img ng-src="/api/uploads/{{document.fields[0].value.filename}}" style="margin:auto; max-height: 450px; min-height: 100px">\n      <div class="carousel-caption" has-role="[\'admin\', \'productionAdmin\', \'salesAdmin\']">\n        <p>\n          <a href="/api/uploads/{{document.fields[0].value.filename}}" class="btn btn-sm btn-success" download="{{document.fields[0].value.originalname}}" target="_blank">Download</a>\n          <button type="button" ng-click="vm.delete({document: document})" class="btn btn-danger btn-sm">\n            Delete\n          </button>\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("app/components/device/device-category/device-category-table/device-category-table.html",'<div class="col-sm-12 table-responsive">\n  <table class="table table-bordered">\n    <thead>\n    <th ng-repeat="field in vm.fields | orderBy : \'_id\'">{{field.title}}</th>\n    <th class="col-actions" has-role="[\'admin\', \'productionAdmin\', \'salesAdmin\']">Actions</th>\n    </thead>\n    <tbody>\n    <tr ng-repeat="document in vm.documents track by document._id">\n      <td ng-repeat="field in document.fields | orderBy : \'field._id\'">\n        <a href="/api/uploads/{{field.value.filename}}" ng-if="field.field.type.value === \'file\' || field.field.type.value === \'img\'" target="_blank">{{field.value.originalname}}</a>\n        <span ng-if="field.field.type.value === \'text\' ||\n                     field.field.type.value === \'number\' ||\n                     field.field.type.value === \'select\' ||\n                     field.field.type.value === \'longText\' ">{{field.value}}</span>\n        <span ng-if="field.field.type.value === \'date\'">{{field.value | date : \'dd.MM.yyyy\'}}</span>\n        <a href="{{field.value}}" ng-if="field.field.type.value === \'link\'" target="_blank">{{field.value}}</a>\n      </td>\n      <td class="col-actions" has-role="[\'admin\', \'productionAdmin\', \'salesAdmin\']">\n        <button type="button" ng-click="vm.openDocumentModal({document: document})" class="btn btn-primary btn-sm">\n          <span class="glyphicon glyphicon-edit"></span>\n        </button>\n        <button type="button" ng-click="vm.delete({document: document})" class="btn btn-danger btn-sm">\n          <span class="glyphicon glyphicon-trash"></span>\n        </button>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n</div>\n'),e.put("app/components/device/device-category/device-serial-numbers/device-serial-numbers-component.html",'<div class="row">\n  <p class="col-sm-12">\n    <button class="btn btn-primary" has-role="[\'admin\', \'salesAdmin\']" ng-click="vm.openCreateModal({})">Create\n    </button>\n  </p>\n  <div class="col-md-12">\n    <div class="row">\n      <div class="col-xs-12 col-md-push-9 col-md-3 sm-spacer">\n        <form novalidate ng-submit="vm.loadSales()">\n          <div class="form-group">\n            <label for="salesOrder">Sales Order</label>\n            <input class="form-control" type="text" id="salesOrder" ng-model-options="vm.modelOptions" ng-model="vm.searchFilters.salesOrder">\n          </div>\n\n          <div class="form-group">\n            <label for="dateFrom">Date From:</label>\n            <p class="input-group">\n              <input type="text" id="dateFrom" class="form-control" uib-datepicker-popup="dd.MM.yyyy" ng-model="vm.searchFilters.dateFrom" popup-placement="auto" is-open="openFrom" datepicker-options="{maxDate: vm.searchFilters.dateTo}" required close-text="Close">\n              <span class="input-group-btn">\n            <button type="button" class="btn btn-default" ng-click="openFrom = !openFrom">\n              <i class="glyphicon glyphicon-calendar"></i></button>\n          </span>\n            </p>\n          </div>\n\n          <div class="form-group">\n            <label for="dateTo">Date To:</label>\n            <p class="input-group">\n              <input type="text" id="dateTo" class="form-control" uib-datepicker-popup="dd.MM.yyyy" ng-model="vm.searchFilters.dateTo" datepicker-options="{minDate: vm.searchFilters.dateFrom}" popup-placement="auto" is-open="openTo" required close-text="Close">\n              <span class="input-group-btn">\n            <button type="button" class="btn btn-default" ng-click="openTo = !openTo">\n              <i class="glyphicon glyphicon-calendar"></i></button>\n          </span>\n            </p>\n          </div>\n\n          <div class="form-group">\n            <label for="clientName">Customer Name</label>\n            <input class="form-control" type="text" id="clientName" ng-model="vm.searchFilters.clientName">\n          </div>\n\n          <div class="form-group">\n            <label for="serialNumber">Serial Number</label>\n            <input class="form-control" type="text" id="serialNumber" ng-model="vm.searchFilters.serialNumber">\n          </div>\n          <div class="text-right">\n            <button type="button" class="btn btn-warning" ng-click="vm.reset()">Reset</button>\n            <button type="submit" class="btn btn-success">Search</button>\n          </div>\n        </form>\n      </div>\n      <div class="col-xs-12 table-responsive col-md-pull-3 col-md-9">\n        <table class="table table-bordered">\n          <thead>\n          <th ng-click="vm.onSortFiltersChanged(\'salesOrder\')">\n            Sales Order\n            <span class="glyphicon glyphicon-triangle-bottom" ng-class="{reverse: vm.sortFilters.order}" ng-show="vm.sortFilters.sort === \'salesOrder\'"></span>\n          </th>\n          <th ng-click="vm.onSortFiltersChanged(\'date\')">\n            Date\n            <span class="glyphicon glyphicon-triangle-bottom" ng-class="{reverse: vm.sortFilters.order}" ng-show="vm.sortFilters.sort === \'date\'"></span>\n          </th>\n          <th ng-click="vm.onSortFiltersChanged(\'serialNumber\')">\n            Serial Number\n            <span class="glyphicon glyphicon-triangle-bottom" ng-class="{reverse: vm.sortFilters.order}" ng-show="vm.sortFilters.sort === \'serialNumber\'"></span>\n          </th>\n          <th ng-click="vm.onSortFiltersChanged(\'clientName\')">\n            Customer Name\n            <span class="glyphicon glyphicon-triangle-bottom" ng-class="{reverse: vm.sortFilters.order}" ng-show="vm.sortFilters.sort === \'clientName\'"></span>\n          </th>\n          <th class="col-actions" has-role="[\'admin\', \'salesAdmin\']">Actions</th>\n          </thead>\n          <tbody>\n          <tr ng-repeat="sale in vm.sales">\n            <td>{{sale.salesOrder}}</td>\n            <td>{{sale.date | date: \'dd.MM.yyyy\'}}</td>\n            <td>{{sale.serialNumber}}</td>\n            <td>{{sale.clientName}}</td>\n            <td class="col-actions" has-role="[\'admin\', \'salesAdmin\']">\n              <button type="button" ng-click="vm.openCreateModal(sale, $index)" class="btn btn-primary btn-sm">\n                <span class="glyphicon glyphicon-edit"></span>\n              </button>\n              <button type="button" ng-click="vm.delete(sale, $index)" class="btn btn-danger btn-sm">\n                <span class="glyphicon glyphicon-trash"></span>\n              </button>\n            </td>\n          </tr>\n          </tbody>\n        </table>\n\n        <ul uib-pagination total-items="vm.pagination.total" ng-model="vm.pagination.page" ng-change="vm.loadSales()" max-size="6" items-per-page="vm.pagination.limit" class="pagination-sm pull-left" boundary-link-numbers="true"></ul>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("app/components/device/device-category/device-subcategories/device-subcategories.html",'\n<div class="col-xs-12">\n  <uib-accordion>\n    <div uib-accordion-group ng-repeat="sub in vm.subcategories" class="panel-default">\n      <uib-accordion-heading>\n        <a href="#" ng-click="vm.onCreateClick(sub, $event)" class="pull-right">New</a>\n        {{sub.value}}\n      </uib-accordion-heading>\n\n      <device-category-table open-document-modal="vm.create(document)" delete="vm.onDelelte(document)" fields="vm.fields" documents="sub.documents"></device-category-table>\n    </div>\n  </uib-accordion>\n</div>\n'),e.put("app/components/device/device-list/create/device.create.component.html",'<form ng-submit="vm.save()" name="vm.form">\n  <div class="modal-header">\n    <h4>Device details</h4>\n  </div>\n  <div class="modal-body">\n    <div class="form-group">\n      <label for="deviceName">Model name:</label>\n      <input type="text" ng-model="vm.device.model" id="deviceName" name="deviceName" class="form-control" required placeholder="Model name">\n    </div>\n    <div class="form-group">\n      <label for="partNumber">Part Number:</label>\n      <input type="text" ng-model="vm.device.partNumber" id="partNumber" class="form-control" placeholder="Part number" required name="partNumber">\n    </div>\n    <div class="form-group">\n      <label for="upc">UPC:</label>\n      <input type="text" ng-model="vm.device.upc" id="upc" class="form-control" required placeholder="UPC" name="upc">\n    </div>\n    <div class="form-group">\n      <label for="description">Description:</label>\n      <input type="text" ng-model="vm.device.description" id="description" name="description" class="form-control" required placeholder="Description">\n    </div>\n  </div>\n  <div class="modal-footer">\n    <button type="submit" class="btn btn-primary" ng-disabled="vm.form.$invalid">Save</button>\n    <button type="button" class="btn btn-warning" ng-click="vm.cancel()">Cancel</button>\n  </div>\n\n</form>\n'),e.put("app/components/device/device-category/device-serial-numbers/create/sale-create.component.html",'<form ng-submit="vm.save()" name="vm.form">\n  <div class="modal-header">\n    <h4>Sale details</h4>\n  </div>\n  <div class="modal-body">\n    <div class="form-group">\n      <label for="salesOrder">Sales Order:</label>\n      <input type="text" ng-model="vm.sale.salesOrder" id="salesOrder" class="form-control" placeholder="Sales Order" required name="salesOrder">\n    </div>\n    <div class="form-group">\n      <label for="clientName">Customer Name:</label>\n      <input type="text" ng-model="vm.sale.clientName" id="clientName" class="form-control" required placeholder="Customer Name" name="clientName">\n    </div>\n    <div class="form-group">\n      <label for="date">Date:</label>\n      <p class="input-group">\n        <input type="text" id="date" class="form-control" uib-datepicker-popup="dd.MM.yyyy" ng-model="vm.sale.date" popup-placement="auto" is-open="open" required close-text="Close">\n        <span class="input-group-btn">\n            <button type="button" class="btn btn-default" ng-click="open = !open">\n              <i class="glyphicon glyphicon-calendar"></i></button>\n          </span>\n      </p>\n    </div>\n    <div class="form-group">\n      <label for="serialNumber">Serial number:</label>\n      <input type="text" ng-model="vm.sale.serialNumber" id="serialNumber" name="serialNumber" class="form-control" required placeholder="Serial number">\n    </div>\n  </div>\n  <div class="modal-footer">\n    <button type="submit" class="btn btn-primary" ng-disabled="vm.form.$invalid">Save</button>\n    <button type="button" class="btn btn-warning" ng-click="vm.cancel()">Cancel</button>\n  </div>\n\n</form>\n')}]),angular.module("app").config(routesConfig);
//# sourceMappingURL=../maps/scripts/app-ff7a43f0c9.js.map
